<html>
  <head>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
      
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <style>
      body {
        font-family: "Helvetica Neue", helvetica, arial;
        padding: 15px;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      ul li {
        line-height: 1.4;
      }
    </style>

    <script>

    $(document).ready(function() {
      var host = location.origin.replace(/^http/, 'ws')
      var ws = new WebSocket(host);

        
      $('#submitmessage').on('click', function(e) {
        var message = $('#message').val();
        if( message != '' ) {
          ws.send( message );
        }
      });
        

      ws.onmessage = function (event) {
        var li = document.createElement('li');
        li.innerHTML = event.data;
        document.querySelector('#pings').appendChild(li);
      };

    });
    </script>
  </head>
  <body>
    <h1>Pings</h1>
    <input type="text" id="message" placeholder="Enter Message" /> <button id="submitmessage">Submit</button>
    <ul id='pings'></ul>
  </body>
</html>
